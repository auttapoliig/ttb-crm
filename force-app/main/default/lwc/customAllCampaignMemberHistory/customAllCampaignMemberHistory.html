<template>
    <div class="slds-page-header slds-m-bottom_medium">
        <div class="slds-page-header__row">
            <div class="slds-page-header__col-title">
                <div class="slds-media">
                    <div class="slds-media__figure">
                        <lightning-icon
                            icon-name="standard:campaign">
                        </lightning-icon>
                    </div>
                    <div class="slds-media__body">
                        <p class="slds-page-header__name-meta">{label.campHisTitile}</p>
                        <div class="slds-page-header__name">
                            <div class="slds-page-header__name-title">
                                <h1>
                                <span class="slds-page-header__title slds-truncate" title="Campaign Member History">{label.campHisSubTitile}</span>
                                </h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="slds-card">
        <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
            <thead>
                <tr class="slds-line-height_reset">
                    <th class="" scope="col">
                        <div class="slds-truncate" title="Date">Date</div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title="Field">Field</div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title="User">User</div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title="Original Value">Original Value</div>
                    </th>
                    <th class="" scope="col">
                        <div class="slds-truncate" title="New Value">New Value</div>
                    </th>
                </tr>
            </thead>
            <tbody>
                <template if:true={isDisplay}>
                    <template for:each={displayData} for:item="data">          
                        <tr class="slds-hint-parent" key={data.Id}>
                            <td data-label="Date">
                                <div class="slds-truncate" title="Date">
                                    <lightning-formatted-date-time
                                        value={data.modifiedDate}
                                        year="numeric"
                                        day="2-digit"
                                        month="2-digit"
                                        hour="2-digit"
                                        minute="2-digit">
                                    </lightning-formatted-date-time>
                                </div>
                            </td>
                            <td data-label="Field">
                                <div class="slds-truncate" title="Field">{data.fieldLabel}</div>
                            </td>
                            <td data-label="User">
                                <div class="slds-truncate" title="User">
                                    <a data-id={data.modifiedById} onclick={handleClickUser}>{data.modifiedBy}</a>
                                </div>
                            </td>
                            <td data-label="Original Value">
                                <div class="slds-truncate" title="Original Value">{data.oldValue}</div>
                            </td>
                            <td data-label="New Value">
                                <div class="slds-truncate" title="New Value">{data.newValue}</div>
                            </td>
                        </tr>
                    </template>
                </template>
                <template if:false={isDisplay}>
                    {label.haveNoRecord}
                </template>
            </tbody>
        </table>
    </div>
</template>
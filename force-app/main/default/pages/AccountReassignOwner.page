<apex:page controller="AccountReassignOwnerController" showHeader="true" standardstylesheets="true">
    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" lang="en">
        <header>
            <meta charset="utf-8" />
            <meta http-equiv="x-ua-compatible" content="ie=edge" />
            <title>{!$Label.RTL_Campaign_Reassign_Title}</title>
            <meta name="viewport" content="width=device-width, initial-scale=1" />

            <apex:includescript value="{!URLFOR($Resource.TMBjquery, '/TMBassets/jquery/jquery-1.11.2.min.js')}" />   
            <apex:includeScript value="/support/console/45.0/integration.js"/>
            <apex:stylesheet value="{!URLFOR($Resource.bootstrapsf1, 'dist/css/bootstrap-namespaced.css')}" />

            <apex:slds />

            <style>
                .bootstrap-sf1{
                    overflow: hidden;
                    background-color: #FFF;
                    font-family: 'Salesforce Sans',Arial,sans-serif;
                }

                .bootstrap-sf1 .paddingline{
                    padding-top :.5rem;
                }

                .bootstrap-sf1 .btn-block {
                    display: block;
                    width: 100%;
                    text-align: center;
                }
                
                .bootstrap-sf1 .padding-label {
                    padding-right: 20px;
                    float: left; 
                    width: 40%; 
                    text-align: right;
                }

                .bootstrap-sf1 .padding-values {
                    float: right; 
                    text-align: left; 
                    width: 60%;
                    padding-right: 15%;
                }

                .slds-scope table{
                    width: auto;
                }

                .red-label {
                    list-style: none;
                    color: #f00;
                }
        
                .slds-scope .slds-text-title--caps, .slds-scope .slds-text-title_caps {
                    font-size: .79rem !important;
                }
        
                .bootstrap-sf1 .output-label{
                    display: inline-block;
                    color: rgb(112, 110, 107);
                    font-size: 0.79rem;
                    line-height: 1.5;
                    margin-right: .75rem;
                    margin-bottom: 0rem;
                    font-weight: normal !important;
                }
                    
                .messageText{
                    padding-bottom: -5px;
                }
        
                .messageCell .messageText br{
                    display: none;
                }
                .slds-scope .slds-button{
                    font-size: .75rem;
                }
                .slds-scope .slds-theme_shade, .slds-scope .slds-theme--shade{
                    height: 32px;
                }

                .hideColumn{
                    display: none;
                }
            </style>
        </header>

        <body>
            <div class="slds-scope">
                <div class="slds-page-header" style="background: #f7f9fb;">
                    <div class="slds-grid">
                        <div class="slds-col slds-has-flexi-truncate">
                            <div class="slds-media slds-no-space slds-grow">
                                <div class="slds-media__figure">
                                    <span class="slds-icon_container slds-icon-standard-account" style="width:32px;height:32px;" >
                                        <span aria-hidden="true" class="slds-icon slds-icon_medium">
                                            <img src="/apexpages/slds/latest/assets/icons/standard/account.svg" style="width:100%;" class="pageTitleIcon" title="account" />
                                        </span>
                                    </span>
                                </div>

                                <div class="slds-media__body">
                                    <nav>
                                        <ol class="slds-breadcrumb slds-line-height_reset">
                                        <li class="slds-breadcrumb__item">
                                            <span>Reassign Account Owner</span>
                                        </li>
                                        </ol>
                                    </nav>

                                    <h1 class="slds-page-header__title slds-m-right_small slds-align-middle slds-truncate" title="Reassign Account Owner">
                                        Reassign Account Owner
                                    </h1>
                                </div>
                            </div>
                        </div>
                  
                    </div>
                </div>


                <apex:form id="myForm">
                    <apex:actionFunction name="searchAccount" action="{!searchAccountByfilter}" status="status" reRender="selectAccountPanel, statusMessage"/>
                    <apex:actionFunction name="selectAccount" action="{!selectAcc}" status="status" reRender="myForm"/>
                    <apex:actionFunction name="backBtn" action="{!backToSelectAcc}" status="status" reRender="myForm"/>
                    <apex:actionFunction name="selectAllCheckboxes" action="{!toggleSelectAll}" reRender="selectAccountPanel" status="status"/>
                    <apex:actionFunction name="reassignAccount" action="{!reassignAccount}" reRender="myForm, selectAccountPanel" status="status"/>
                    <apex:actionFunction name="PaginationNext" action="{!PaginationNext}" reRender="selectAccountPanel" status="status"/>
                    <apex:actionFunction name="PaginationPrev" action="{!PaginationPrev}" reRender="selectAccountPanel" status="status"/>

                    <apex:outputPanel id="statusMessage">
                        <apex:pageMessages ></apex:pageMessages>
                    </apex:outputPanel>
                    
                    <apex:outputPanel id="filterpanel" rendered="{!isSearchScreen}">
                        <apex:outputPanel id="filterblock">
                            <div class="slds-form-element">
                                <div class="slds-section__title slds-theme--shade primaryPaletteBorder" style="background: #f4f6f9;">
                                    <h3 class="section-header-title slds-p-horizontal--small slds-truncate">Filter Customer</h3> 
                                </div>

                                <div class="bootstrap-sf1" style="padding-top: 10px;">

                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                            <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="Filter Customers" />

                                            </span>

                                            <div class="padding-values">
                                                <div class="slds-select_container ">
                                                    <apex:selectList value="{!filterCustomer}" multiselect="false" size="1"  styleClass="slds-select" >
                                                        <apex:selectOptions value="{!filterCustomerSelectValue}"/>
                                                    </apex:selectList>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                            <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="Customer Stage"/>
                                            </span>

                                            <div class="padding-values">
                                                <div class="slds-select_container ">
                                                    <apex:selectList value="{!customerStageFilter}" multiselect="false" size="1"  styleClass="slds-select" >
                                                        <apex:selectOptions value="{!selectedValue}"/>
                                                    </apex:selectList>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                            <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="Previous Owner"/>
                                            </span>

                                            <div class="padding-values">
                                                <div class="slds-size_small" style="display: contents;">
                                                    <apex:inputField value="{!tmpAcct.Previous_Owner__c}" styleClass="slds-select"/>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                            <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="Customer Segment / Stamp Owner Segment"/>
                                            </span>

                                            <div class="padding-values">
                                                <!-- <apex:outputLabel value="{! IF(ISBLANK(currentUser.Segment__c), '-', currentUser.Segment__c)}"/> -->
                                                
                                                <div class="slds-select_container ">
                                                    <apex:selectList value="{!custSegmentFilter}" multiselect="false" size="1"  styleClass="slds-select" disabled="{! IF(filterCustomerSegmentOption.size > 1, false, true)}">
                                                        <apex:selectOptions value="{!filterCustomerSegmentOption}"/>
                                                    </apex:selectList>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                            <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="Current Owner"/>
                                            </span>

                                            <div class="padding-values">
                                                <div class="slds-size_small" style="display: contents;">
                                                    <apex:inputField value="{!tmpAcct.Current_Owner__c}" styleClass="slds-select"/>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                            <!-- <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="User Region/Group"/>
                                            </span>

                                            <div class="padding-values">
                                                <apex:outputLabel value="{! IF(ISBLANK(currentUser.Region__c), '-', currentUser.Region__c)}"/>
                                            </div> -->

                                            <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="Customer group"/>
                                            </span>

                                            <div class="padding-values">
                                                <div class="slds-size_small" style="display: contents;">
                                                    <apex:inputField value="{!tmpAcct.Group__c}" styleClass="slds-select"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                        </div>

                                        <div class="col-xs-12 col-sm-6 col-md-6 paddingline slds-grid slds-grid_vertical-align-center">
                                            <!-- <span class="padding-label label-middle">
                                                <apex:outputlabel styleclass="output-label" value="User Zone/Team"/>
                                            </span>

                                            <div class="padding-values">
                                                <apex:outputLabel value="{! IF(ISBLANK(currentUser.Zone__c), '-', currentUser.Zone__c)}"/>
                                            </div> -->

                                            <span class="padding-label label-middle">
                                                <!-- <div style="margin: 0 12px 0 0;"> -->
                                                    
                                                    <button class="slds-button slds-button_icon slds-button slds-button_icon" aria-describedby="help" aria-disabled="true" onclick="return false;" onmouseover="showTooltip();" onmouseout="hideTooltip();" style="margin: 0 5px 0 0;">
                                                        <span class="slds-icon_container slds-icon-standard-account" style="width:16px;height:16px;background-color:rgba(27, 82, 151, 1);border-radius: 1.25rem;">
                                                            <span aria-hidden="true" class="slds-icon slds-icon_medium sl">
                                                                <img src="/apexpages/slds/latest/assets/icons/utility/info_alt.svg" style="width:100%;"/>
                                                            </span>
                                                        </span>
                                                    </button>
                                                    
                                                    <apex:outputlabel styleclass="output-label" value="Approval Pending" />
                                                    
                                                    <div style="padding-left: 36rem;margin-left: 84px;position:relative;">
                                                        <div class="slds-popover slds-popover_tooltip" role="tooltip" id="helptooltip" style="position:absolute;top:10px;left:15px;display: none;">
                                                            <div class="slds-popover__body">{! $Label.ReassingAccountOwnerMessage7 }</div>
                                                        </div>
                                                    </div>
                                                <!-- </div> -->
                                            </span>

                                            <div class="padding-values">
                                                <apex:selectList value="{!filterIsApprovalPending}" multiselect="false" size="1"  styleClass="slds-select"  style="height: 32px;">
                                                    <apex:selectOptions value="{!filterApprovalPendingValue}"/>
                                                </apex:selectList>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row slds-m-around_x-small">
                                        <div class="col-xs-12 col-sm-12 col-md-12 paddingline slds-grid slds-grid_vertical-align-center">
                                            <div class="slds-align_absolute-center">
                                                <apex:commandbutton id="searchbutton" 
                                                    styleClass="slds-button slds-button--neutral slds-m-right_small slds-m-left_small"
                                                    value="{! $Label.RTL_Campaign_Reassign_Filter_Search_Btn }"
                                                    onclick="searchAccount();return false;"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>                
                        </apex:outputPanel>
                    </apex:outputPanel>
                    
                    <apex:outputPanel id="selectAccountResult" styleClass="bootstrap-sf1" rendered="{!!isSearchScreen}">
                        <div class="slds-form-element">
                            <div class="slds-section__title slds-theme--shade primaryPaletteBorder" style="background: #f4f6f9;">
                                <h3 class="section-header-title slds-p-horizontal--small slds-truncate">Reassign Account Owner</h3> 
                            </div>

                            <div class="row slds-m-around_x-small">
                                <div class="col-xs-12 col-sm-12 col-md-12 paddingline slds-grid slds-grid_vertical-align-center">
                                    <span class="padding-label">
                                        <apex:outputlabel styleclass="output-label"  value="{!$Label.RTL_Campaign_Reassign_SelectMem_Text}" />
                                    </span>
                                    <div class="padding-values">
                                        <div class="slds-size_small">
                                            <apex:outputtext value="{!accShowlst.size}"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <apex:outputPanel rendered="{!!isReassignFinish}">
                                <div class="slds-section__title slds-theme--shade primaryPaletteBorder" style="background: #f4f6f9;">
                                    <h3 class="section-header-title slds-p-horizontal--small slds-truncate">Target User</h3> 
                                </div>

                                <div class="row slds-m-around_x-small">
                                    <div class="col-xs-12 col-sm-12 col-md-12 paddingline slds-grid slds-grid_vertical-align-center">
                                        <span class="padding-label">
                                            <apex:outputlabel styleclass="output-label"  value="{!$Label.RTL_Campaign_Reassign_Target_Agent_Text}" />
                                        </span>
    
                                        <div class="padding-values">
                                            <div class="slds-size_small">
                                                <apex:inputField value="{!tmpAcct.Change_to_owner__c}" styleClass="slds-select"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </apex:outputPanel>
                            

                            <div class="row slds-m-around_x-small">
                                <div class="col-xs-12 col-sm-12 col-md-12 paddingline slds-grid slds-grid_vertical-align-center">
                                    <div class="slds-align_absolute-center">
                                         <apex:outputPanel rendered="{!!isReassignFinish}" style="display:flex;">
                                            <apex:commandbutton value="Reassign"
                                                onclick="reassignAccount();return false;"
                                                styleClass="btn saveButtonId slds-button slds-button_brand slds-button slds-button--neutral slds-m-right_small slds-m-left_small" 
                                            />
            
                                            <!-- <apex:commandButton value="{! $Label.RTL_Campaign_Reassign_Filter_Cancel_Btn}"  
                                                styleClass="slds-button slds-button--neutral slds-m-right_small slds-m-left_small"  
                                            />  -->
                                        </apex:outputPanel>

                                        <apex:commandbutton value="{! $Label.RTL_Campaign_Reassign_Filter_Cancel_Btn }" 
                                            styleClass="slds-button slds-button--neutral slds-m-right_small slds-m-left_small"
                                            onclick="backBtn();return false;"
                                        />
                                    </div>
                                </div>
                            </div>

                        </div>
                    </apex:outputPanel>
                    
                    <apex:outputPanel id="selectAccountPanel" styleClass="bootstrap-sf1">
                        <div class="slds-form-element">
                            
                            <div class="slds-section__title slds-theme--shade primaryPaletteBorder" style="background: #f4f6f9;">
                                <h3 class="section-header-title slds-p-horizontal--small slds-truncate">Select Account</h3> 
                            </div>

                            <div class="slds-form-element slds-m-around--medium"  id="responsive" >
    
                                <apex:outputPanel rendered="{!IF(accShowlst.size > 0, false, true)}">
                                    <div class="slds-p-around_x-small slds-border_bottom slds-border_top">
                                        <span style="font-size: 12px;margin-left: 20px;">
                                            <apex:outputText value="{!$Label.RTL_No_Record_Display}" ></apex:outputText>
                                        </span>
                                    </div>
                                </apex:outputPanel>
    
                                <apex:outputPanel rendered="{!IF(accShowlst.size > 0, true, false)}">
                                    <apex:outputPanel id="btmSet" rendered="{!isSearchScreen}">
                                        <div class="slds-align_absolute-center slds-m-top_small" >
                                            <apex:commandbutton styleClass="btn saveButtonId slds-button slds-button_brand slds-button slds-button--neutral"
                                                value="{!$Label.RTL_Campaign_Reassign_Reassign_Select_Btn}" 
                                                id="selectbutton"
                                                onclick="selectAccount();return false;"
                                            />
        
                                            <apex:commandButton styleClass="slds-button slds-button--neutral slds-m-right_small"
                                                value="{! $Label.RTL_Campaign_Reassign_Filter_Cancel_Btn }"
                                                onclick="redirectPage('');return false;"
                                            />
                                        </div>
    
                                        <div class="slds-grid slds-grid_vertical-align-start">
                                            <div class="slds-p-horizontal_medium slds-m-bottom_small slds-m-top_small">
                                                <apex:commandLink value="{! $Label.RTL_Campaign_Reassign_Prev_Text}" rendered="{!paginationHavePrev}" onclick="PaginationPrev();return false;"/> 
                                                <apex:outputText value="{! $Label.RTL_Campaign_Reassign_Prev_Text }" rendered="{!!paginationHavePrev}"/>
                                            </div>
                                            <div class="slds-p-horizontal_medium slds-m-bottom_small slds-m-top_small">
                                                <apex:commandLink value="{! $Label.RTL_Campaign_Reassign_Next_Text}" rendered="{!paginationHaveNext}" onclick="PaginationNext();return false"/> 
                                                <apex:outputText value="{! $Label.RTL_Campaign_Reassign_Next_Text }" rendered="{!!paginationHaveNext}"/>
                                            </div>
                                            <div class="slds-p-horizontal_medium slds-m-bottom_small slds-m-top_small">
                                                <apex:outputText value=" ({!QaccOffset + 1} - {!QaccOffset + accShowlst.size} {! $Label.RTL_Campaign_Reassign_Of_Text} {!accCountAll})"/>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
    
                                    <table class="slds-table slds-table--bordered slds-table--cell-buffer slds-max-medium-table--stacked-horizontal slds-table_fixed-layout" style="text-align: center;font-size: 12px; width: 100%;">
                                        <thead>
                                            <tr class="slds-text-title--caps slds-section-title--divider">
                    
                                                <th scope="col" class="{!if(isSearchScreen,'','hideColumn')}">
                                                    <div class="slds-cell-wrap" title="{! $Label.RTL_Campaign_Reassign_Head_Selection }">
                                                        <apex:inputCheckbox onclick="selectAllCheckboxes();" value="{!isToggleSelectAll}"/>  
                                                        {! $Label.RTL_Campaign_Reassign_Head_Selection} 
                                                    </div>
                                                </th>
    
                                                <!-- <th scope="col">
                                                    <div class="slds-cell-wrap" title="{! $Label.RTL_Campaign_Reassign_Head_No }">
                                                        {! $Label.RTL_Campaign_Reassign_Head_No }
                                                    </div>
                                                </th> -->

                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.TMB_Customer_ID_PE__c.Label}">
                                                        {!$ObjectType.Account.fields.TMB_Customer_ID_PE__c.Label}
                                                    </div>
                                                </th>
    
                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.Name.Label}">
                                                        {!$ObjectType.Account.fields.Name.Label}
                                                    </div>
                                                </th>
    
                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.OwnerId.Label}">
                                                        {!$ObjectType.Account.fields.OwnerId.Label}
                                                    </div>
                                                </th>

                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.Stamp_Owner_Segment__c.Label}">
                                                        {!$ObjectType.Account.fields.Stamp_Owner_Segment__c.Label}
                                                    </div>
                                                </th>
                                                
                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.Stamp_Owner_Region_Group__c.Label}">
                                                        {!$ObjectType.Account.fields.Stamp_Owner_Region_Group__c.Label}
                                                    </div>
                                                </th>

                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.Stamp_Owner_Zone_Team__c.Label}">
                                                        {!$ObjectType.Account.fields.Stamp_Owner_Zone_Team__c.Label}
                                                    </div>
                                                </th>
    
                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.Previous_Owner_Name__c.Label}">
                                                        <apex:outputLabel value="PREVIOUS OWNER"></apex:outputLabel>
                                                    </div>
                                                </th>
                                                
                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="{!$ObjectType.Account.fields.NI_Actual__c.Label}">
                                                        {!$ObjectType.Account.fields.NI_Actual__c.Label}
                                                    </div>
                                                </th>

                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="Customer's Total Limit">
                                                        Customer's Total Limit
                                                    </div>
                                                </th>

                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="Customer's Outstanding">
                                                        Customer's Outstanding
                                                    </div>
                                                </th>

                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="Customer's Total Deposit">
                                                        Customer's Total Deposit
                                                    </div>
                                                </th>

                                                <th scope="col">
                                                    <div class="slds-cell-wrap" title="Is Pending Approval">
                                                        Is Pending Approval
                                                    </div>
                                                </th>
                                            </tr>
                                        </thead>
                    
                                        <tbody>
                                            <apex:repeat value="{!accShowlst}" var="acc">
                                                <tr class="dataRow">
                                                    <td data-label="{!$Label.RTL_Campaign_Reassign_Head_Selection}" class="{!if(isSearchScreen,'','hideColumn')}">
                                                        <div class="slds-cell-wrap">
                                                            <apex:inputCheckbox id="selectcheck" value="{!acc.isSelected}"/>
                                                        </div>
                                                    </td>
    
                                                    <!-- <td data-label="{! $Label.RTL_Campaign_Reassign_Head_No }">
                                                        <div class="slds-cell-wrap">
                                                            {!acc.RowNumber}   
                                                        </div>
                                                    </td> -->

                                                    <td data-label="{!$ObjectType.Account.fields.TMB_Customer_ID_PE__c.Label}">
                                                        <div class="slds-cell-wrap">
                                                            {!acc.acct.TMB_Customer_ID_PE__c}
                                                        </div>
                                                    </td>
    
                                                    <td data-label="{!$ObjectType.Account.fields.Name.Label}">
                                                        <div class="slds-cell-wrap">
                                                            {!acc.acct.Name}   
                                                        </div>
                                                    </td>
    
                                                    <td data-label="{!$ObjectType.Account.fields.OwnerId.Label}">
                                                        <div class="slds-cell-wrap">
                                                            <!-- <apex:outputField value="{!acc.acct.OwnerId}"></apex:outputField> -->
                                                            {!acc.acct.Owner.Name}
                                                        </div>
                                                    </td>

                                                    <td data-label="{!$ObjectType.Account.fields.Stamp_Owner_Segment__c.Label}">
                                                        <div class="slds-cell-wrap">
                                                            {!acc.acct.Stamp_Owner_Segment__c}
                                                        </div>
                                                    </td>
    
                                                    <td data-label="{!$ObjectType.Account.fields.Stamp_Owner_Region_Group__c.Label}">
                                                        <div class="slds-cell-wrap">
                                                            {!acc.acct.Stamp_Owner_Region_Group__c}
                                                        </div>
                                                    </td>
                                                    
                                                    <td data-label="{!$ObjectType.Account.fields.Stamp_Owner_Zone_Team__c.Label}">
                                                        <div class="slds-cell-wrap">
                                                            {!acc.acct.Stamp_Owner_Zone_Team__c}
                                                        </div>
                                                    </td>
    
                                                    <td data-label="{!$ObjectType.Account.fields.Previous_Owner_Name__c.Label}">
                                                        <div class="slds-cell-wrap">
                                                            <!-- <apex:outputLink onclick="redirectPage('{!acc.previousOwner.Id}');">{!acc.previousOwner.Name}</apex:outputLink> -->
                                                            {!acc.acct.Previous_Owner_Name__c}
                                                        </div>
                                                    </td>
    
                                                    <td data-label="{!$ObjectType.Account.fields.NI_Actual__c.Label}">
                                                        <div class="slds-cell-wrap" style="float: right;">
                                                            <apex:outputText value="{0, number, #,##0.00}">
                                                                <apex:param value="{!acc.acct.NI_Actual__c}" />
                                                            </apex:outputText>
                                                        </div>
                                                    </td>
    
                                                    <td data-label="Customer's Total Limit">
                                                        <div class="slds-cell-wrap" style="float: right;">
                                                            <apex:outputText value="{0, number, #,##0.00}">
                                                                <apex:param value="{!acc.custTotalLimit}" />
                                                            </apex:outputText>
                                                        </div>
                                                    </td>
    
                                                    <td data-label="Customer's Outstanding">
                                                        <div class="slds-cell-wrap" style="float: right;">
                                                            <apex:outputText value="{0, number, #,##0.00}">
                                                                <apex:param value="{!acc.acct.OutStanding__c}" />
                                                            </apex:outputText>
                                                        </div>
                                                    </td>
    
                                                    <td data-label="Customer's Total Deposit">
                                                        <div class="slds-cell-wrap" style="float: right;">
                                                            <apex:outputText value="{0, number, #,##0.00}">
                                                                <apex:param value="{!acc.custTotalDeposit}" />
                                                            </apex:outputText>
                                                        </div>
                                                    </td>
                                                    
                                                    <td data-label="Is Pending Approval">
                                                        <div class="slds-cell-wrap">
                                                            <apex:outputLabel value="{!IF(acc.acct.Is_Pending_for_Approval__c, 'Yes', 'No')}"/>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </apex:repeat>
                                        </tbody>
                                    </table>
    
                                    <apex:outputPanel id="btmSet2" rendered="{!isSearchScreen}">
                                        <div class="slds-grid slds-grid_vertical-align-start">
                                            <div class="slds-p-horizontal_medium slds-m-bottom_small slds-m-top_small">
                                                <apex:commandLink value="{! $Label.RTL_Campaign_Reassign_Prev_Text}" rendered="{!paginationHavePrev}" onclick="PaginationPrev();return false;"/> 
                                                <apex:outputText value="{! $Label.RTL_Campaign_Reassign_Prev_Text }" rendered="{!!paginationHavePrev}"/>
                                            </div>
                                            <div class="slds-p-horizontal_medium slds-m-bottom_small slds-m-top_small">
                                                <apex:commandLink value="{! $Label.RTL_Campaign_Reassign_Next_Text}" rendered="{!paginationHaveNext}" onclick="PaginationNext();return false;"/> 
                                                <apex:outputText value="{! $Label.RTL_Campaign_Reassign_Next_Text }" rendered="{!!paginationHaveNext}"/>
                                            </div>
                                            <div class="slds-p-horizontal_medium slds-m-bottom_small slds-m-top_small">
                                                <apex:outputText value=" ({!QaccOffset + 1} - {!QaccOffset + accShowlst.size} {! $Label.RTL_Campaign_Reassign_Of_Text} {!accCountAll})"/>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                </apex:outputPanel>
                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:form>
            </div>

            <apex:actionstatus id="status">
                <apex:facet name="start">
                    <div class='overlay' style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.75; z-index: 1000; background-color: #ededed;">
                        &nbsp;
                    </div>
                    <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 1001; margin: 15% 50%">
                        <img src="/img/loading32.gif" />
                    </div>
                </apex:facet>
            </apex:actionstatus>

            <div id="spinner" style="display: none">
                <div class="demo-only demo--inverse" style="height: 6rem;">
                    <div class="slds-spinner_container slds-is-fixed">
                        <div role="status" class="slds-spinner slds-spinner_medium">
                            <span class="slds-assistive-text">{$Label.RTL_Campaign_Reassign_Loading}</span>
                            <div class="slds-spinner__dot-a"></div>
                            <div class="slds-spinner__dot-b"></div>
                        </div>
                    </div>
                </div>
            </div>

            <script type="text/javascript">
                document.getElementById("spinner").style.display = "block";

                $(document).ready(function () {
                    document.getElementById("spinner").style.display = "none";
                });

                function redirectPage(id){
                    var theme = '{!$User.UIThemeDisplayed}';
                    var url = '/' + id;

                    console.log('theme :: ' + theme);
                    console.log('url :: ' + url);

                    //Salesforce console mode
                    if(sforce.console.isInConsole()){
                        console.log('new window in console mode');
                        sforce.console.openPrimaryTab(null, url, true);
                    }
                    //Salesforce classic theme OR Lightning Expericence theme
                    else if(theme == 'Theme3' || theme == 'Theme4d'){
                        console.log('new window in classic');
                        window.location.href = url;
                    }
                    //Salesforce1 mobile theme
                    else if(theme == 'Theme4t'){
                        console.log('new window mobile theme');
                        sforce.one.navigateToURL(url);
                    }
                }

                function showTooltip(){
                    document.getElementById('helptooltip').style.display = "flex";
                }

                function hideTooltip(){
                    document.getElementById('helptooltip').style.display = "none";
                }
            </script>
        </body>
    </html>
</apex:page>
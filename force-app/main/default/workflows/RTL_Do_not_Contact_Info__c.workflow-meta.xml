<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <fieldUpdates>
        <fullName>Update_End_Date</fullName>
        <description>update end date of do not contact info by calculate start date + period</description>
        <field>End_Date__c</field>
        <formula>IF(ISPICKVAL( Period__c, &apos;1 Year&apos; ), (Start_Date__c) + 365
			, IF(ISPICKVAL( Period__c, &apos;6 Months&apos; ), (Start_Date__c) + 182
								, IF(ISPICKVAL( Period__c, &apos;Life Time&apos; ), DATE(YEAR(Start_Date__c)+83, MONTH(Start_Date__c), DAY(Start_Date__c))
								, IF(ISPICKVAL( Period__c, &apos;Other&apos; ), End_Date__c
													, NULL))))</formula>
        <name>Update End Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Calculate End Date</fullName>
        <actions>
            <name>Update_End_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>IF(ISCHANGED( Period__c ) || ISCHANGED(Start_Date__c) 			|| ISNEW() 		,TRUE 		,FALSE)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
